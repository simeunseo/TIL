| μ‘μ„±μΌ     | νμ°¨  |
| ---------- | ----- |
| 2024/04/29 | 1νμ°¨ |

# π¤” GraphQLμ΄ λ­κΉ?

---

GraphQLμ€ νμ΄μ¤λ¶μ—μ„ λ§λ“  μΏΌλ¦¬ μ–Έμ–΄λ΅, APIλ΅λ¶€ν„° ν•„μ”ν• λ°μ΄ν„°μ κµ¬μ΅°λ¥Ό μ •μν•λ” νƒ€μ… μ‹μ¤ν…μ„ μ‚¬μ©ν•μ—¬ μΏΌλ¦¬λ¥Ό μ‹¤ν–‰ν•λ‹¤. κ° νƒ€μ…μ€ μμ²΄ ν•„λ“λ¥Ό κ°€μ§€λ©° μ„λ΅ κ΄€κ³„λ¥Ό ν†µν•΄ μ—°κ²°λμ–΄, λ‹¨μΌ API νΈμ¶ μ•μ—μ„ λ‹¤μ–‘ν• μ—”ν‹°ν‹°μ— κ±ΈμΉ λ³µμ΅ν• μΏΌλ¦¬λ¥Ό κ°€λ¥ν•κ² ν•λ‹¤.

## μ£Όμ” νΉμ§•

- **νƒ€μ… μ‹μ¤ν…**
  κ°•λ ¥ν• νƒ€μ… μ‹μ¤ν…μ„ μ‚¬μ©ν•μ—¬, APIλ¥Ό ν†µν•΄ μΏΌλ¦¬ν•  μ μλ” λ°μ΄ν„°μ μΆ…λ¥λ¥Ό λ…ν™•ν μ •μν•λ‹¤. μ΄ μ‹μ¤ν…μ€ λ°μ΄ν„°μ κµ¬μ΅°μ™€ κ°€λ¥ν• μΏΌλ¦¬λ¥Ό μ‚¬μ „μ— μ• μ μκ² ν•΄μ£Όμ–΄, ν¨μ΅μ μΈ μ‘μ—…μ„ λ•λ”λ‹¤.
- **λ‹¨μΌ μ—”λ“ν¬μΈνΈ**
  μ—¬λ¬ μ—”λ“ν¬μΈνΈλ¥Ό κ΄€λ¦¬ν•  ν•„μ” μ—†μ΄ λ‹¨μΌ μ—”λ“ν¬μΈνΈμ—μ„ λ°μ΄ν„°μ λ¨λ“  κΈ°λ¥μ— μ ‘κ·Όν•  μ μμ–΄ API κ΄€λ¦¬λ¥Ό λ‹¨μν™”μ‹ν‚¨λ‹¤.
- **μ‹¤μ‹κ°„ λ°μ΄ν„°**
  subscription κΈ°λ¥μ„ ν†µν•΄ μ‹¤μ‹κ°„μΌλ΅ λ°μ΄ν„°λ¥Ό λ°›μ•„μ¬ μ μμ–΄, μ‹¤μ‹κ°„ μ΄λ²¤νΈλ¥Ό ν¨κ³Όμ μΌλ΅ λ‹¤λ£° μ μκ² ν•λ‹¤.
- **μκ°€ λ¬Έμ„ν™”**
  APIμ μ¤ν‚¤λ§λ¥Ό μ‚¬μ©ν•μ—¬ API μμ²΄κ°€ μμ‹ μ κµ¬μ΅°μ™€ μ‚¬μ© κ°€λ¥ν• μ—°μ‚°μ„ μ„¤λ…ν•  μ μλ„λ΅ ν•λ‹¤. λ”°λΌμ„ λ³„λ„μ λ¬Έμ„λ¥Ό μ—…λ°μ΄νΈν•κ±°λ‚ μ μ§€ν•  ν•„μ” μ—†μ΄ APIμ μµμ‹  μƒνƒλ¥Ό μ •ν™•ν•κ² λ°μν•  μ μκ² ν•λ‹¤.

## μ‚¬μ© λ™ν–¥

κµ­λ‚΄μ—μ„λ” λ‹¤μκ³Ό κ°™μ€ κΈ°μ—…λ“¤μ΄ GraphQLμ„ μ‚¬μ©ν•κ³  μλ‹¤.

![Untitled](https://file.notion.so/f/f/2896369f-ef60-4b3e-85c4-25d1f47c8cd9/26903742-a0cc-4646-88eb-5bbf497a4d68/Untitled.png?id=1b766c76-3fdc-40c4-bd85-5bb3c973fa24&table=block&spaceId=2896369f-ef60-4b3e-85c4-25d1f47c8cd9&expirationTimestamp=1716465600000&signature=sI9m9OLEW7JG709LxF-Jh6-Ht0wvIyLC4Txm1b26aRA&downloadName=Untitled.png)

# π«§ REST APIμ™€ λΉ„κµν•΄λ³΄μ

---

<aside>
π—’οΈ REST APIλ” RESTλ¥Ό κΈ°λ°μΌλ΅ λ§λ“¤μ–΄μ§„ APIμ΄λ‹¤. RESTλ€ HTTP URIλ¥Ό ν†µν•΄ μμ›μ„ λ…μ‹ν•κ³ , HTTP Method(POST, GET, PUT, DELETE, PATCH)λ¥Ό ν†µν•΄ ν•΄λ‹Ή μμ›μ— λ€ν• CRUD Operationμ„ μ μ©ν•λ” μ„¤κ³„ λ°©μ‹μ΄λ‹¤.

</aside>

![Untitled](https://file.notion.so/f/f/2896369f-ef60-4b3e-85c4-25d1f47c8cd9/ff4c8086-296d-41f0-b2dd-e55ed2867379/Untitled.png?id=0cacdcdc-f3c8-4cdc-9bb2-0a68f1833cd3&table=block&spaceId=2896369f-ef60-4b3e-85c4-25d1f47c8cd9&expirationTimestamp=1716465600000&signature=XJxEh2F6BfB2BKJD65pnOVDrOZ9vsUTaMmbTmEo2H5s&downloadName=Untitled.png)

## REST APIμ λ¬Έμ μ κ³Ό GraphQLμ λ³΄μ™„

- **μ¤λ²„ νμΉ­κ³Ό μ–Έλ” νμΉ­**
  REST APIλ” νΉμ • μ—”λ“ν¬μΈνΈμ—μ„ κ³ μ •λ λ°μ΄ν„° κµ¬μ΅°λ¥Ό μ κ³µν•λ‹¤. μ΄λ΅ μΈν•΄ ν•„μ”ν• μ •λ³΄λ³΄λ‹¤ λ§μ€ μ •λ³΄λ¥Ό κ°€μ Έμ¤λ” μ¤λ²„ νμΉ­μ΄λ‚, ν• λ²μ μ”μ²­μΌλ΅ ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό κ°€μ Έμ¤μ§€ λ»ν•λ” μ–Έλ” νμΉ­μ΄ λ°μƒν•  μ μλ‹¤.
  > β†’ GraphQLμ—μ„λ” ν΄λΌμ΄μ–ΈνΈκ°€ ν•„μ”ν• λ°μ΄ν„°λ§ μ •ν™•ν•κ² μ”μ²­ν•  μ μμ–΄μ„ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤!
- **λ²„μ „ κ΄€λ¦¬**
  REST APIμ—μ„ μƒλ΅μ΄ ν•„λ“λ¥Ό μ¶”κ°€ν•κ±°λ‚ κΈ°μ΅΄ ν•„λ“λ¥Ό λ³€κ²½ν•  λ•, μ΄μ „ λ²„μ „κ³Όμ νΈν™μ„±μ„ μ μ§€ν•κΈ° μ„ν•΄ μƒλ΅μ΄ λ²„μ „μ APIλ¥Ό λ°°ν¬ν•΄μ•Ό ν•  μ μλ‹¤. μ΄λ¬ν• λ²„μ „ κ΄€λ¦¬λ” λ³µμ΅μ„±μ„ μ¦κ°€μ‹ν‚¤κ³  λ‹¤μ–‘ν• λ²„μ „μ„ μ μ§€ κ΄€λ¦¬ν•΄μ•Ό ν•λ” λ¶€λ‹΄μ„ κ°€μ Έμ¨λ‹¤.
  > β†’ GraphQLμ—μ„λ” λ‹¨μΌ μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ νƒ€μ… μ‹μ¤ν… λ‚΄μ—μ„ μ μ§„μ μΈ λ³€κ²½μ„ κ΄€λ¦¬ν•  μ μμ–΄μ„ λ²„μ „ κ΄€λ¦¬μ ν•„μ”μ„±μ΄ μ¤„μ–΄λ“ λ‹¤!
- **νƒ€μ… μ‹μ¤ν…μ λ¶€μ¬**
  REST APIλ” νƒ€μ… μ‹μ¤ν…μ΄ μ—†μ–΄ λ°μ΄ν„°μ κµ¬μ΅°λ¥Ό λ…μ‹μ μΌλ΅ μ •μν•μ§€ μ•λ”λ‹¤. μ΄λ΅μΈν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ•½μ†μ„ λ…ν™•ν ν•λ”λ° μ–΄λ ¤μ›€μ΄ μμ„ μ μλ‹¤.
  > β†’ GraphQLμ€ νƒ€μ… μ‹μ¤ν…μ„ μ‚¬μ©ν•μ—¬ κµν™λλ” λ°μ΄ν„°μ κµ¬μ΅°μ™€ νƒ€μ…μ„ λ…ν™•ν•κ² μ •μν•κ³  κ²€μ¦ν•  μ μμ–΄ μ¤λ¥λ¥Ό λ°©μ§€ν•  μ μλ‹¤.
- **λ³µμ΅ν• μ—°κ΄€ λ°μ΄ν„° μ²λ¦¬**
  REST APIλ” κ΄€λ ¨ λ°μ΄ν„°λ‚ μ—°κ΄€λ λ°μ΄ν„°λ¥Ό λ‹¤λ£¨κΈ° μ„ν•΄ μ—¬λ¬ κ°μ APIλ¥Ό νΈμ¶ν•΄μ•Ό ν•  λ•κ°€ λ§λ‹¤.
  > β†’ GraphQLμ€ ν•λ‚μ μΏΌλ¦¬ μ•μ—μ„ μ—¬λ¬ μμ›κ³Ό κ·Έ κ΄€κ³„λ¥Ό ν¨μ¨μ μΌλ΅ λ°›μ•„μ¬ μ μμ–΄, API νΈμ¶ μλ¥Ό μ¤„μ΄κ³  μ„±λ¥μ„ ν–¥μƒμ‹ν‚¬ μ μλ‹¤.

## GraphQLμ λ‹¨μ 

- **μ—λ¬ ν•Έλ“¤λ§μ μ–΄λ ¤μ›€**
  REST APIλ” HTTP μƒνƒ μ½”λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ¤λ¥μ μ„±κ²©μ„ λ‚νƒ€λ‚Έλ‹¤. κ·Έλ¬λ‚ GraphQLμ€ μΌλ°μ μΌλ΅ μƒνƒ μ½”λ“ 200μ„ λ°ν™ν•λ©°, μ„±κ³µν• μΏΌλ¦¬λ” dataμ— ν•„λ“μ— λ‹΄κΈ°κ³  μ‹¤ν¨ν• μΏΌλ¦¬λ” errors ν•„λ“μ— λ°°μ—΄λ΅ λ‹΄κΈ΄λ‹¤. error λ°°μ—΄μ κ°μ²΄λ“¤μ€ κ° μΏΌλ¦¬ ν•„λ“μ— λ€ν• μ‹¤ν¨ μ‚¬μ μ™€ μ„μΉ μ •λ³΄λ¥Ό λ‹΄κ³  μλ”λ°, κ°κ°μ— λ€ν• μ—λ¬ μ—¬λ¶€λ¥Ό νμ•…ν•κ³  λ€μ‘ν•΄μ•Ό ν•λ―€λ΅ λ§¤μ° κΉλ‹¤λ΅­λ‹¤.
  > Apollo Client λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•λ©΄ μ—λ¬λ¥Ό μ¤‘κ°„μ— κ°€λ΅μ± μ μκ³ , λ λ”λ§ λ΅μ§κ³Ό λ¶„λ¦¬ν•μ—¬ λΉ„κµμ  κΉ”λ”ν•κ² ν•Έλ“¤λ§ν•  μ μλ‹¤.
- **μΊμ‹±μ λ¶€μ¬**
  REST APIλ” μ—¬λ¬ μ—”λ“ν¬μΈνΈλ¥Ό κ°€μ§€λ―€λ΅ HTTP μΊμ‹±μ„ ν™μ©ν•  μ μμ§€λ§ GraphQLμ€ κ·Έλ ‡μ§€ μ•μΌλ―€λ΅ μΊμ‹±μ μ΄μ μ„ λ„λ¦΄ μ μ—†λ‹¤.
  > Apollo Client λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•λ©΄ μΊμ‹ μµμ…μ„ μ‚¬μ©ν•  μ μλ‹¤.
- **λ³µμ΅μ„± μ¦κ°€**
  GraphQLμ€ λ°±μ—”λ“ κ°λ°μ μΈ΅λ©΄μ—μ„ REST APIλ³΄λ‹¤ λ” λ³µμ΅ν• μΏΌλ¦¬μ™€ μ¤ν‚¤λ§ μ„¤κ³„λ¥Ό ν•„μ”λ΅ ν•λ‹¤. μμ λ΅μ΄ μΏΌλ¦¬ μ΅°ν•©μ— λ€ν•΄ λ€μ‘ν•΄μ•Ό ν•λ©° μ„λ²„ λ¶€λ‹΄μ„ μ¤„μ΄κΈ° μ„ν•΄ μΏΌλ¦¬μ μµλ€ κ°μλ‚ λμ¤λ¥Ό μ ν•ν•λ” κ²ƒμ„ κ³ λ ¤ν•λ” λ“± API μ„¤κ³„ μ‹ κ³ λ―Όν•  μ§€μ λ“¤μ΄ λ§μ•„μ§„λ‹¤.
  > ν΄λΌμ΄μ–ΈνΈ λ΅μ§μ€ κ°„κ²°ν•΄μ§€λ” μ΄μ μ΄ μλ‹¤.

# π«£ GraphQL μ‚¬μ©λ²• λ§›λ³΄κΈ°

---

## κΈ°λ³Έ κµ¬μ„± μ”μ†

- **μΏΌλ¦¬(Queries)**
  λ°μ΄ν„°λ¥Ό μ½μ„ λ• μ‚¬μ©ν•λ‹¤. REST APIμ GET μ”μ²­κ³Ό μ μ‚¬ν•λ‹¤.
- **λ®¤ν…μ΄μ…(Mutations)**
  λ°μ΄ν„°λ¥Ό μƒμ„±, μμ •, μ‚­μ ν•  λ• μ‚¬μ©ν•λ‹¤. REST APIμ POST, PUT, DELETE μ”μ²­κ³Ό μ μ‚¬ν•λ‹¤.
- **μ¤ν‚¤λ§(Schema)**
  κ°€λ¥ν• μΏΌλ¦¬μ™€ ν•΄λ‹Ή μΏΌλ¦¬κ°€ λ°ν™ν•  κ°μ²΄ νƒ€μ…μ„ μ •μν•λ‹¤.
- **λ¦¬μ΅Έλ²„(Resolvers)**
  μΏΌλ¦¬μ— λ€ν• μ‘λ‹µμ„ μ‹¤μ  λ°μ΄ν„°λ΅ μ±„μ°λ” ν•¨μμ΄λ‹¤.

## μΏΌλ¦¬ μ‘μ„± μμ‹

```graphql
{
  hero {
    name
    height
    mass
    friends {
      name
    }
  }
}
```

`hero`λΌλ” μ£Ό κ°μ²΄μ— λ€ν•΄, `hero`μ μ†μ„±μΈ `name`, `height`, `mass`, `friends`λ¥Ό μ”μ²­ν•λ‹¤. `friends`μ μ†μ„±μΈ nameλ„ μ”μ²­ν•λ‹¤.

### ν•„λ“

GraphQLμ€ κ°μ²΄μ— λ€ν• νΉμ • ν•„λ“λ¥Ό μ μ—°ν•κ² μ”μ²­ν•  μ μλ‹¤. κ°™μ€ hero κ°μ²΄μ— λ€ν•΄, ν•„μ”ν• μ •λ³΄μ— λ”°λΌ λ‹¤μκ³Ό κ°™μ΄ λ‹¤λ¥΄κ² μ”μ²­ν•μ—¬ κ²°κ³Όλ¥Ό μ–»μ„ μ μλ‹¤.

```graphql
//μΏΌλ¦¬
{
	hero {
		name
	}
}
```

```json
//κ²°κ³Ό
{
  "data": {
    "hero": {
      "name": "R2-D2"
    }
  }
}
```

```graphql
//μΏΌλ¦¬
{
  hero {
    name
    friends {
      name
    }
  }
}
```

```json
//κ²°κ³Ό
{
  "data": {
    "hero": {
      "name": "R2-D2",
      "friends": [
        {
          "name": "Luke Skywalker"
        },
        {
          "name": "Han Solo"
        },
        {
          "name": "Leia Organa"
        }
      ]
    }
  }
}
```

### νλΌλ―Έν„°

μΏΌλ¦¬μ—μ„ ν•„λ“λ” νλΌλ―Έν„°λ¥Ό λ°›μ„ μ μλ‹¤. μ΄ νλΌλ―Έν„°λ“¤μ€ ν•„λ“κ°€ λ°μ΄ν„°λ¥Ό λ°ν™ν•  λ• μ–΄λ–¤ λ°μ΄ν„°λ¥Ό λ°ν™ν• μ§€λ¥Ό μ μ–΄ν•λ” λ° μ‚¬μ©λλ‹¤. νλΌλ―Έν„°μ νƒ€μ…μ΄λ‚ κΈ°λ³Έκ°’μ„ μ§€μ •ν•λ” κ²ƒλ„ κ°€λ¥ν•λ‹¤.

```graphql
{
  user(id: "1") {
    name
  }
}
```

μ΄ μμ‹μ—μ„λ” `id`λ¥Ό `user`ν•„λ“μ— νλΌλ―Έν„°λ΅ μ „λ‹¬ν•μ—¬ νΉμ • μ‚¬μ©μμ μ΄λ¦„μ„ μ”μ²­ν•  μ μλ‹¤.

```graphql
{
  users(filter: { age: 25, active: true }) {
    name
    email
  }
}
```

νλΌλ―Έν„°λ¥Ό ν™μ©ν•μ—¬ λ¦¬μ¤νΈλ‚ λ³µμ΅ν• κ°μ²΄λ¥Ό ν•„ν„°λ§ν•λ” λ“± λ³µμ΅ν• λ°μ΄ν„° μ”μ²­λ„ κ°€λ¥ν•λ‹¤. μ΄ μμ‹μ—μ„λ” νΉμ • μ΅°κ±΄μ„ λ§μ΅±ν•λ” μ‚¬μ©μμ— λ€ν• μ •λ³΄λ¥Ό μ”μ²­ν•  μ μλ‹¤.

## λ®¤ν…μ΄μ… μ‘μ„± μμ‹

```graphql
mutation {
  addHero(name: "Eunseo Sim", height: 162, mass: 100) {
    id
  }
}
```

μƒλ΅μ΄ `hero`κ°μ²΄λ¥Ό μ¶”κ°€ν•κ³ , μ¶”κ°€λ `hero`μ `id`λ¥Ό λ°ν™ν•λ‹¤. `name`, `height`, `mass`λ¥Ό μ…λ ¥ νλΌλ―Έν„°λ΅ μ κ³µν•λ‹¤.

## μ¤ν‚¤λ§ μ‘μ„± μμ‹

```graphql
type Hero {
  id: ID
  name: String
  height: Int
  mass: Int
  friends: [Hero]
}

type Query {
  hero(id: ID): Hero
}

type Mutation {
  addHero(name: String, height: Int, mass: Int): Hero
}
```

μ¤ν‚¤λ§λ΅ μ„λ²„μ—μ„ μ‚¬μ© κ°€λ¥ν• νƒ€μ…κ³Ό μΏΌλ¦¬ κµ¬μ΅°λ¥Ό μ •μν•λ‹¤. μ΄ μ¤ν‚¤λ§λ” `Hero` νƒ€μ…μ„ μ •μν•κ³  `Query` νƒ€μ…μ—μ„λ” νΉμ • `ID`λ¥Ό κ°€μ§„ `hero`λ¥Ό μ”μ²­ν•  μ μμΌλ©°, Mutation νƒ€μ…μ—μ„λ” μƒλ΅μ΄ `hero`λ¥Ό μ¶”κ°€ν•  μ μλ‹¤.
