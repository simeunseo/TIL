| 작성일       | 플랫폼       | 레벨 | 시도 | 키워드                        |
| ------------ | ------------ | ---- | ---- | ----------------------------- |
| May 21, 2024 | 프로그래머스 | Lv2  | 0    | `슬라이딩 윈도우` `원형 탐색` |

<details>
<summary style="font-size: 24px; font-weight:600">
문제
</summary>
<div markdown="1">

### **문제 설명**

철호는 수열을 가지고 놀기 좋아합니다. 어느 날 철호는 어떤 자연수로 이루어진 원형 수열의 연속하는 부분 수열의 합으로 만들 수 있는 수가 모두 몇 가지인지 알아보고 싶어졌습니다. 원형 수열이란 일반적인 수열에서 처음과 끝이 연결된 형태의 수열을 말합니다. 예를 들어 수열 [7, 9, 1, 1, 4] 로 원형 수열을 만들면 다음과 같습니다.

![Untitled](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/f207cd37-34dc-4cbd-96bb-83435bd6efd4/%EA%B7%B8%EB%A6%BC.png)

원형 수열은 처음과 끝이 연결되어 끊기는 부분이 없기 때문에 연속하는 부분 수열도 일반적인 수열보다 많아집니다.

원형 수열의 모든 원소 `elements`가 순서대로 주어질 때, 원형 수열의 연속 부분 수열 합으로 만들 수 있는 수의 개수를 return 하도록 solution 함수를 완성해주세요.

---

### 제한사항

- 3 ≤ `elements`의 길이 ≤ 1,000
- 1 ≤ `elements`의 원소 ≤ 1,000

---

### 입출력 예

| elements    | result |
| ----------- | ------ |
| [7,9,1,1,4] | 18     |

---

### 입출력 예 설명

입출력 예 #1

길이가 1인 연속 부분 수열로부터 [1, 4, 7, 9] 네 가지의 합이 나올 수 있습니다.

길이가 2인 연속 부분 수열로부터 [2, 5, 10, 11, 16] 다섯 가지의 합이 나올 수 있습니다.

길이가 3인 연속 부분 수열로부터 [6, 11, 12, 17, 20] 다섯 가지의 합이 나올 수 있습니다.

길이가 4인 연속 부분 수열로부터 [13, 15, 18, 21] 네 가지의 합이 나올 수 있습니다.

길이가 5인 연속 부분 수열로부터 [22] 한 가지의 합이 나올 수 있습니다.

이들 중 중복되는 값을 제외하면 다음과 같은 18가지의 수들을 얻습니다.

[1, 2, 4, 5, 6, 7, 9, 10, 11, 12, 13, 15, 16, 17, 18, 20, 21, 22]

</div>
</details>

# 생각 과정

원형 수열이어서 원형 큐로 구현하는데만 생각이 굳어버렸다. 맨 뒷 원소를 맨 앞으로 붙이면서 검사를 해야하나… 방황하다가 결국 해결책이 떠오르지 않아 다른 풀이를 보았다. [참고](https://velog.io/@dianestar/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4-%EC%97%B0%EC%86%8D-%EB%B6%80%EB%B6%84-%EC%88%98%EC%97%B4-%ED%95%A9%EC%9D%98-%EA%B0%9C%EC%88%98-JavaScript-%EA%B5%90%EA%B3%B5-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EC%8A%A4%ED%84%B0%EB%94%94-48%EC%A3%BC%EC%B0%A8)

### for문 구조 잡기

부분 수열의 길이 → 수열의 시작 인덱스 → 길이에 해당하는 만큼 원소 더하기 (이 과정을 슬라이딩 윈도우로 개선)

### 슬라이딩 윈도우 알고리즘

![Untitled](https://velog.velcdn.com/images/dianestar/post/3ac9cf89-084f-44e1-8e4e-beb35d6369c6/image.png)

### 원형 수열은 어떻게 고려하는가?

배열의 인덱스를 늘려가며 확인할 때, `인덱스 % 배열의 길이` 로 계산하면 원형 수열을 고려할 수 있다.

### 코드 작성

```jsx
function solution(elements) {
  const set = new Set();
  for (let i = 1; i <= elements.length; i++) {
    // 부분 수열의 길이
    sum = 0;
    for (let j = 0; j < elements.length; j++) {
      // 부분 수열의 시작 인덱스
      if (j === 0) {
        // 첫 윈도우에 대해서만 합 직접 구하기
        for (let k = 0; k < i; k++) {
          sum += elements[k];
        }
      } else {
        // 윈도우 한 칸 움직이기
        sum -= elements[j - 1];
        sum += elements[(j + i - 1) % elements.length];
      }
      set.add(sum);
    }
  }
  return set.size;
}
```
